<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create your own explorer class • shinyExplorer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Create your own explorer class">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shinyExplorer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/explorer_classes.html">Create your own explorer class</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Create your own explorer class</h1>
            
      
      
      <div class="hidden name"><code>explorer_classes.Rmd</code></div>

    </div>

    
    
<p>The shinyExplorer package provides you with only one explorer class, the group explorer class, whose nodes behave like folders. For further functionality you can implement your own explorer classes. This vignette will lead you through all necessary steps.</p>
<p>Imagine you want to store the names of some persons. You might define the following R6Class:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Person &lt;-<span class="st"> </span>R6<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/R6/man/R6Class.html">R6Class</a></span>(
  <span class="dt">classname =</span> <span class="st">"Person"</span>,
  <span class="dt">public =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
    <span class="dt">initialise =</span> <span class="cf">function</span>(name) {
      private<span class="op">$</span>name &lt;-<span class="st"> </span>name
    },
    
    <span class="dt">get_name =</span> <span class="cf">function</span>() {
      private<span class="op">$</span>name
    },
    
    <span class="dt">set_name =</span> <span class="cf">function</span>(name) {
      private<span class="op">$</span>name &lt;-<span class="st"> </span>name
    }
  ),
  <span class="dt">private =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
    <span class="dt">name =</span> <span class="kw"><a href="https://rdrr.io/r/base/character.html">character</a></span>()
  )
)</code></pre></div>
<p>For this simple purpose this might look a little bit inflated, but the explorer module requires a node’s object to possess the method <code>get_name</code>.</p>
<p>A node with a person object should provide the functionality for renaming this person. Furthermore it should behave like a file, that means there are no children to such a node.</p>
<p>An explorer class consists of two UI functions, that return contextmenu items and a server function, which handles the response upon clicking a contextmenu item. The first UI function returns exactly one contextmenu item. This contextmenu item is displayed upon right-clicking a node, if this node’s explorer classes include this particular explorer class. Clicking this contextmenu item usually adds a node with this particular explorer class as a child node to the formerly right-clicked node. The second UI function returns an arbitrary number of contextmenu items, which are displayed upon right-clicking a node of this explorer class.</p>
<p>For our purposes a definition of both these UI functions might look as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">person_explorer_class_contextmenu_item_ui &lt;-<span class="st"> </span><span class="cf">function</span>(id) {
  ns &lt;-<span class="st"> </span><span class="kw">NS</span>(id)
  
  <span class="kw"><a href="../reference/contextmenu_item.html">contextmenu_item</a></span>(<span class="kw">ns</span>(<span class="st">"add"</span>), <span class="st">"Add person"</span>)
}

person_explorer_class_specific_contextmenu_items_ui &lt;-<span class="st"> </span><span class="cf">function</span>(id) {
  ns &lt;-<span class="st"> </span><span class="kw">NS</span>(id)
  
  htmltools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/htmltools/man/tag.html">tagList</a></span>(
    <span class="kw"><a href="../reference/contextmenu_item.html">contextmenu_item</a></span>(<span class="kw">ns</span>(<span class="st">"rename"</span>), <span class="st">"Rename"</span>)
  )
}</code></pre></div>
<p>The server function defines the behaviour upon clicking these contextmenu items.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">person_explorer_class &lt;-<span class="st"> </span><span class="cf">function</span>(input, output, session, .values, .explorer_rvs) {
  
  shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent</a></span>(input<span class="op">$</span>add, {
    .explorer_rvs<span class="op">$</span>current_node<span class="op">$</span><span class="kw">add_child</span>(
      <span class="dt">explorer_class_id =</span> <span class="st">"person"</span>,
      <span class="dt">object =</span> Person<span class="op">$</span><span class="kw">new</span>(<span class="st">"Name"</span>)
    )
  })
  
  shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent</a></span>(input<span class="op">$</span>rename, {
    person &lt;-<span class="st"> </span>.explorer_rvs<span class="op">$</span>current_node<span class="op">$</span><span class="kw">get_object</span>()
    
    shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/showModal.html">showModal</a></span>(shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/modalDialog.html">modalDialog</a></span>(
      <span class="dt">title =</span> <span class="st">"Rename"</span>,
      shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/textInput.html">textInput</a></span>(
        <span class="dt">inputId =</span> <span class="kw">ns</span>(<span class="st">"name"</span>),
        <span class="dt">label =</span> <span class="ot">NULL</span>,
        <span class="dt">value =</span> person<span class="op">$</span><span class="kw">get_name</span>()
      ),
      <span class="dt">footer =</span> shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionButton</a></span>(
        <span class="dt">inputId =</span> <span class="kw">ns</span>(<span class="st">"confirm"</span>),
        <span class="dt">label =</span> <span class="st">"Confirm"</span>
      )
    ))
  })
  
  shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent</a></span>(input<span class="op">$</span>confirm, {
    person &lt;-<span class="st"> </span>.explorer_rvs<span class="op">$</span>current_node<span class="op">$</span><span class="kw">get_object</span>()
    
    person<span class="op">$</span><span class="kw">set_name</span>(input<span class="op">$</span>name)
  })
  
  return_list &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
    <span class="dt">is_group_r =</span> shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/reactive.html">reactive</a></span>(<span class="ot">FALSE</span>)
  )
  
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(return_list)
}</code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by David Barkemeyer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
