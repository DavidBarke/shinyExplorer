<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction • shinyExplorer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shinyExplorer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/explorer_classes.html">Create your own explorer class</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction</h1>
            
      
      
      <div class="hidden name"><code>Introduction.Rmd</code></div>

    </div>

    
    
<p>This vignette provides you with all information you need to create your first explorer tree and add it to your Shiny app. We will deal with R6-Classes, so some basic understanding as provided by the <a href="https://r6.r-lib.org/articles/Introduction.html">introduction vignette</a> of the R6 package might be helpful, but is not mandatory. shinyExplorer exports three core R6-classes: <code>ExplorerTree</code>, <code>ExplorerNode</code> and <code>ExplorerClass</code>. For convenience we will denote objects of these classes with lower letter abbreviations, i.e. tree, node and explorer_class.</p>
<p>Since the classes implement some methods showing reactive behaviour, we need to call <code><a href="https://rdrr.io/pkg/shiny/man/isolate.html">shiny::isolate</a></code>, if using them without a reactive context. Inside your app’s server function, of course, you don’t need to do this. Throughout this vignette, we avoid using it by not evaluating the code chunks.</p>
<div id="create-a-new-tree" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-new-tree" class="anchor"></a>Create a new tree</h2>
<p>We begin by creating a new tree:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">explorer_tree &lt;-<span class="st"> </span>ExplorerTree<span class="op">$</span><span class="kw">new</span>(
  <span class="dt">root_id =</span> <span class="st">"root"</span>
)</code></pre></div>
<p>Every tree has a root node, which is created by calling <code>ExplorerTree$new</code>. The tree stores the ids of all its nodes and therefore guarantees that all its ids are unique.</p>
</div>
<div id="add-a-new-node-to-the-tree" class="section level2">
<h2 class="hasAnchor">
<a href="#add-a-new-node-to-the-tree" class="anchor"></a>Add a new node to the tree</h2>
<p>Right now we have a tree consisting of only one node, the root node. We want to add another node to the tree. To do that, we need to take the root node and add a child to it. We achieve that by calling <code>get_root_node</code> on our tree, which returns - as you would suspect - the root node. Every node has the method <code>add_child</code>, which creates a new node and adds it as a child to the calling node.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">explorer_tree<span class="op">$</span><span class="kw">get_root_node</span>()<span class="op">$</span><span class="kw">add_child</span>(
  <span class="dt">id =</span> <span class="st">"first_child"</span>,
  <span class="dt">explorer_class =</span> <span class="st">"__group__"</span>,
  <span class="dt">object =</span> Object<span class="op">$</span><span class="kw">new</span>(),
  <span class="dt">return =</span> <span class="st">"self"</span>
)</code></pre></div>
<p>Let’s look a little bit closer at the <code>add_child</code> method. We add a new node with id <code>"first_child"</code>. This node is of explorer class “<strong>group</strong>”.</p>
<p>Every node may have an explorer_class. Nodes, that share the same explorer_class behave similar inside of the <code>explorer</code> visualisation. The shinyExplorer package provides you with some basic explorer classes, but you are free to create your own explorer_classes using <code>ExplorerClass$new</code> as described in the vignette <a href="../articles/explorer_classes.html">Create your own explorer class</a>. Every node also has an object attached to it. This object can be of an arbitrary data type. One explorer_class is usually designed to work well with one data type and operate on it. The default object is an object of class <code>Object</code>, which only possesses name and id.</p>
<p>The last argument to the <code>add_child</code> method decides whether this method returns the calling node (<code>"self"</code>, the default) or the new child node (<code>"child"</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Compare the following two cases</span>
<span class="co"># A: Add two children to the tree</span>
explorer_tree<span class="op">$</span><span class="kw">get_root_node</span>()<span class="op">$</span><span class="kw">add_child</span>(
  <span class="dt">id =</span> <span class="st">"child1"</span>
)<span class="op">$</span><span class="kw">add_child</span>(
  <span class="dt">id =</span> <span class="st">"child2"</span> 
)

<span class="co"># B: Add child and grandchild to the tree</span>
explorer_tree<span class="op">$</span><span class="kw">get_root_node</span>()<span class="op">$</span><span class="kw">add_child</span>(
  <span class="dt">id =</span> <span class="st">"child"</span>,
  <span class="dt">return =</span> <span class="st">"child"</span>
)<span class="op">$</span><span class="kw">add_child</span>(
  <span class="dt">id =</span> <span class="st">"grandchild"</span>
)</code></pre></div>
</div>
<div id="visualize-the-tree" class="section level2">
<h2 class="hasAnchor">
<a href="#visualize-the-tree" class="anchor"></a>Visualize the tree</h2>
<p>Now that you created your first tree, you may visualize it inside your Shiny app using the <code>explorer</code> module. In case that you’ve never used a module before - it is very simple yet powerful. Modules can be understood as apps inside of your app. They as well consist of a server function for the functionality and a UI function for the layout. For more details about modularizing your Shiny app see <a href="https://shiny.rstudio.com/articles/modules.html">this</a> article on the Shiny website.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># UI function:</span>
ui &lt;-<span class="st"> </span><span class="cf">function</span>(id) {
  ns &lt;-<span class="st"> </span>shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/NS.html">NS</a></span>(id)
  shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/tag.html">tagList</a></span>(
    <span class="co"># some UI</span>
    <span class="kw"><a href="../reference/explorer.html">explorer_ui</a></span>(<span class="dt">id =</span> <span class="kw">ns</span>(<span class="st">"id_explorer"</span>))
    <span class="co"># some more UI</span>
  )
}

<span class="co"># Inside your server function call:</span>
shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/callModule.html">callModule</a></span>(
  <span class="dt">module =</span> explorer,
  <span class="dt">id =</span> <span class="st">"id_explorer"</span>,
  <span class="dt">.root_node_r =</span> shiny<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/shiny/man/reactive.html">reactive</a></span>(explorer_tree<span class="op">$</span><span class="kw">get_root_node</span>()),
  <span class="dt">.explorer_classes =</span> explorer_classes
  <span class="co"># Further arguments to explorer</span>
)

<span class="co"># Somewhere before calling the module, you must create the list of explorer_classes</span>
<span class="co"># used in your app.</span>
explorer_classes &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
  <span class="kw"><a href="../reference/group_explorer_class.html">group_explorer_class</a></span>()
  <span class="co"># Further explorer classes defined by yourself</span>
)</code></pre></div>
<p>Notice that we don’t pass our tree to the <code>explorer</code> module, instead we take one node of the tree (in our example this is the tree’s root node). The <code>explorer</code> module’s visualisation will only show all nodes, that are descendents of the node you passed to it and none of its ancestors. Therefore you could create just one tree for your whole application and only visualize parts of it, where it is needed. For the same reason you are able to control, nodes of which explorer classes are visible to or addable by the user. Imagine a tree containing some nodes representing datasets, other nodes representing linear models. In your master view all nodes are visible, whereas in more specific views only linear model nodes are visible or only dataset nodes.</p>
<p><code>explorer</code> takes an argument named <code>.explorer_classes</code>, which is a list of explorer_classes either created by yourself or taken from the explorer_classes that are included in shinyExplorer. You should define this list as a global variable and pass it to every <code>explorer</code> you use, regardless of if a particular explorer_class is used in this tree or not. Passing unused explorer_classes produces a minimal overhead when the module is initialised, whereas omitting an used explorer_class will result in an error.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#create-a-new-tree">Create a new tree</a></li>
      <li><a href="#add-a-new-node-to-the-tree">Add a new node to the tree</a></li>
      <li><a href="#visualize-the-tree">Visualize the tree</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by David Barkemeyer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
